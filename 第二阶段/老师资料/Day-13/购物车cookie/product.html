<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
        <title>JavaScript</title>
		<style>
			table{border-collapse:collapse;}
			td{border:1px solid;}
		</style>
		<script>
			window.onload = function(){
				
				var oA = document.getElementsByTagName('a');
				var date = new Date();
				date.setDate(date.getDate()+1);
				
				for(var i = 0;i<oA.length;i++){
					oA[i].onclick = function(){
						var id= this.parentNode.parentNode.firstChild.firstChild.value;
						var name = this.parentNode.parentNode.firstChild.lastChild.nodeValue;
						//alert(name);
						var price = this.parentNode.previousSibling.innerHTML;
						//"{id:" + 1 +",name:' " + 水杯 + "',price:" + 29 + "}"
						var cookieValue="{id:"+id+",name:'"+name+"',price:"+price+"}";
						var cookieName = "product_" + id;
						document.cookie = cookieName+'='+cookieValue+";expires="+date;
					}
				}
				
			};
		</script>
    </head>
    <body>
		<table>
			<tr>
				<td>商品名</td><td>价格</td><td>操作</td>
			</tr>
			<tr><td><input type="hidden" value="1">水杯</td><td>29</td><td><a class="buy" href="javascript:;">购买</a></td></tr>
			<tr><td><input type="hidden" value="2">电脑</td><td>4999</td><td><a class="buy" href="javascript:;">购买</a></td></tr>
			<tr><td><input type="hidden" value="3">手机</td><td>1999</td><td><a class="buy" href="javascript:;">购买</a></td></tr>
		</table>
		<button onclick="window.location='cart.html';">查看购物车</button>
    </body>
</html>