<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
        <title>JavaScript</title>
		<style>
			table{border-collapse:collapse;}
			td{border:1px solid;}
		</style>
		<script>
			window.onload = function(){
				//alert(document.cookie);
				var arr = document.cookie.split('; ');
				var index = 1;
				for(var i = 0;i<arr.length;i++){
					//arr[i]为name=value的cookie
					//以=号分割，val数组中第一个元素为cookie 名字 第二个元素为 cookie值
					var val = arr[i].split('=');
					if(val[0].indexOf('product_') == 0){
						//cookie名以product_开头，说明是添加到购物车中的商品信息
						//还原商品的json对象
						var product = eval('('+val[1]+')');
						//在表格中插入行
						var _tr = document.getElementById("tab").insertRow();
						var _td = _tr.insertCell(); //序号
						_td.innerHTML = index++;
						_td = _tr.insertCell(); //商品名称
						_td.innerHTML = product.name;
						_td = _tr.insertCell();//单价
						_td.innerHTML = product.price;
						_td = _tr.insertCell();//数量
						_td.innerHTML = '1';
					}
				}
			};
		</script>
    </head>
    <body>
		<table id="tab">
			<tr><td>序号</td><td>商品名称</td><td>商品单价</td><td>数量</td></tr>
		</table>
    </body>
</html>